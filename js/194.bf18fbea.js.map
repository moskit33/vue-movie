{"version":3,"file":"js/194.bf18fbea.js","mappings":"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","sources":["webpack://vue-project/./src/views/DetailsView.vue?9cab","webpack://vue-project/./src/views/DetailsView.vue?fdeb","webpack://vue-project/./src/views/DetailsView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\nimport _imports_0 from '../assets/loader.gif'\nimport _imports_1 from '../assets/zoom-icon-svgrepo-com.svg'\n\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"loader\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"loader\"\n}, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = { class: \"details-section\" }\nconst _hoisted_6 = { class: \"details-container\" }\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"details-wrapper\" }\nconst _hoisted_9 = { class: \"details-title\" }\nconst _hoisted_10 = { class: \"details-year__wrapper\" }\nconst _hoisted_11 = { class: \"details-year\" }\nconst _hoisted_12 = { class: \"number\" }\nconst _hoisted_13 = [\"innerHTML\"]\nconst _hoisted_14 = { class: \"details-description\" }\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"img\", { src: _imports_1 }, null, -1)\nconst _hoisted_16 = { class: \"sorting-wrap\" }\nconst _hoisted_17 = { class: \"sorting\" }\nconst _hoisted_18 = { class: \"sorting-found\" }\nconst _hoisted_19 = {\n  key: 2,\n  class: \"not-found-movie\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_RouterLink = _resolveComponent(\"RouterLink\")!\n  const _component_MovieList = _resolveComponent(\"MovieList\")!\n\n  return (_ctx.isLoading)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n    : (_ctx.currentMovieDetails)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createElementVNode(\"img\", {\n                class: \"details-img\",\n                src: _ctx.currentMovieDetails.posterurl,\n                onError: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.handleImgError && _ctx.handleImgError(...args)))\n              }, null, 40, _hoisted_7),\n              _createElementVNode(\"div\", _hoisted_8, [\n                _createElementVNode(\"h2\", _hoisted_9, _toDisplayString(_ctx.currentMovieDetails.title), 1),\n                _createElementVNode(\"div\", _hoisted_10, [\n                  _createElementVNode(\"p\", _hoisted_11, [\n                    _createElementVNode(\"span\", _hoisted_12, _toDisplayString(_ctx.currentMovieDetails.year), 1),\n                    _createTextVNode(\" year\")\n                  ]),\n                  _createElementVNode(\"div\", { innerHTML: _ctx.getDuration }, null, 8, _hoisted_13)\n                ]),\n                _createElementVNode(\"p\", _hoisted_14, _toDisplayString(_ctx.currentMovieDetails.storyline), 1)\n              ])\n            ]),\n            _createVNode(_component_RouterLink, {\n              class: \"linkToSearch\",\n              to: \"/\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_15\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_16, [\n            _createElementVNode(\"div\", _hoisted_17, [\n              _createElementVNode(\"span\", _hoisted_18, \"Films by \" + _toDisplayString(_ctx.getCurrentGenre) + \" genre\", 1)\n            ])\n          ]),\n          _createVNode(_component_MovieList, { movieList: _ctx.movieListByGenre }, null, 8, [\"movieList\"])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, \"MOVIE NOT FOUND :(\"))\n}","\nimport { defineComponent, computed, onMounted, onUpdated, watch, ref } from 'vue'\nimport MovieList from '../components/MovieList.vue'\nimport { NOT_FOUND_IMAGE } from '../helpers'\nimport { useStore } from 'vuex'\nimport { useRoute } from 'vue-router'\n\nexport default defineComponent({\n  name: 'DetailsView',\n  components: { MovieList },\n  setup() {\n    const route = useRoute()\n    const store = useStore()\n    const isLoading = computed(() => store.state.isLoading)\n    const currentMovieDetails = computed(() => store.state.currentMovieDetails)\n    const movieListByGenre = computed(() => store.state.movieListByGenre)\n    const movieId = ref(route.params.id+'')\n    \n    const getMovieById = (id: string) => {\n      store.dispatch('getMovieById', id)\n    }\n\n    const handleImgError = (event: any) => {\n      if (event && event.target && event.target.src) {\n        event.target.src = NOT_FOUND_IMAGE\n      }\n    }\n\n    const getCurrentGenre = computed(() => {\n      return currentMovieDetails.value?.genres[0]\n    })\n\n    const getDuration = computed(() => {\n      return `<p class=\"details-year\"><span class=\"number\">${currentMovieDetails.value.duration.slice(2,-1)}</span> min</p>`\n    })\n\n    onMounted(() => {\n      getMovieById(movieId.value)\n    })\n\n    watch(() => route.params.id, (newVal, oldVal) => {\n      if(newVal !== oldVal) {\n        movieId.value = newVal+''\n        getMovieById(movieId.value)\n      }\n    })\n\n    return {\n      isLoading,\n      currentMovieDetails,\n      movieListByGenre,\n      handleImgError,\n      getCurrentGenre,\n      getDuration\n    }\n  }\n})\n","import { render } from \"./DetailsView.vue?vue&type=template&id=ac258f9c&ts=true\"\nimport script from \"./DetailsView.vue?vue&type=script&lang=ts\"\nexport * from \"./DetailsView.vue?vue&type=script&lang=ts\"\n\nimport \"./DetailsView.vue?vue&type=style&index=0&id=ac258f9c&lang=css\"\n\nimport exportComponent from \"/home/runner/work/vue-movie/vue-movie/node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","key","class","_hoisted_2","_createElementVNode","src","_imports_0","alt","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_imports_1","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","render","_ctx","_cache","$props","$setup","$data","$options","_component_RouterLink","_resolveComponent","_component_MovieList","isLoading","_openBlock","_createElementBlock","currentMovieDetails","posterurl","onError","args","handleImgError","_toDisplayString","title","year","_createTextVNode","innerHTML","getDuration","storyline","_createVNode","to","default","_withCtx","_","getCurrentGenre","movieList","movieListByGenre","defineComponent","name","components","MovieList","setup","route","useRoute","store","useStore","computed","state","movieId","ref","params","id","getMovieById","dispatch","event","target","NOT_FOUND_IMAGE","value","genres","duration","slice","onMounted","watch","newVal","oldVal","__exports__"],"sourceRoot":""}